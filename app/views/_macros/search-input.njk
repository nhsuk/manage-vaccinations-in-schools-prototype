{%- from "x-nhsuk/decorated/button/macro.njk" import button with context %}
{%- from "x-nhsuk/decorated/input/macro.njk" import input with context %}
{%- from "_macros/icon.njk" import appIcon -%}

{% macro appSearchInput(params) %}
<div class="app-search-input{%- if params.classes %} {{ params.classes }}{% endif %}" role="search">
  {{ input({
    classes: "app-search-input__input",
    label: {
      classes: "nhsuk-u-visually-hidden",
      text: params.label.text
    },
    type: "search",
    autocomplete: "off",
    attributes: params.attributes,
    decorate: params.decorate or "q"
  }) }}

  {{ button({
    classes: "app-button--icon app-search-input__submit",
    html: appIcon({
      icon: "search",
      title: "Search"
    })
  }) }}
</div>
{% endmacro %}
