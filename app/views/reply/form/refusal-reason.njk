{% extends "_layouts/form.njk" %}

{% set title = __("reply.refusalReason.title") %}

{% block form %}
  {{ radios({
    fieldset: {
      legend: {
        html: appHeading({
          classes: "nhsuk-fieldset__legend--l",
          caption: patient.fullName,
          title: title
        })
      }
    },
    items: [
      { text: ReplyRefusal.Gelatine } if programme.type == ProgrammeType.Flu,
      { text: ReplyRefusal.GelatineMMR } if programme.type == ProgrammeType.MMR,
      { text: ReplyRefusal.AlreadyVaccinated },
      { text: ReplyRefusal.GettingElsewhere },
      { text: ReplyRefusal.Medical },
      { text: ReplyRefusal.Personal },
      { divider: "or" },
      {
        text: ReplyRefusal.Other,
        conditional: {
          html: input({
            label: { text: __("reply.refusalReasonOther.label") },
            decorate: "reply.refusalReasonOther"
          })
        }
      }
    ],
    decorate: "reply.refusalReason"
  }) }}
{% endblock %}
