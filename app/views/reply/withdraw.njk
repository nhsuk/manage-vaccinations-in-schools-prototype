{% extends "_layouts/form.njk" %}

{% set confirmButtonText = __("reply.withdraw.confirm") %}
{% set paths = { back: reply.uri } %}
{% set title = __("reply.withdraw.title") %}

{% block form %}
  {{ heading({
    caption: __("reply.withdraw.caption", { reply: reply }),
    title: title
  }) }}

  {{ radios({
    fieldset: {
      legend: {
        classes: "nhsuk-fieldset__legend--m",
        text: __("reply.refusalReason.label")
      }
    },
    items: [
      { text: ReplyRefusal.Gelatine } if campaign.type == CampaignType.FLU,
      { text: ReplyRefusal.AlreadyGiven },
      { text: ReplyRefusal.GettingElsewhere },
      { text: ReplyRefusal.Medical },
      { text: ReplyRefusal.Personal },
      { divider: "or" },
      {
        text: ReplyRefusal.Other,
        conditional: {
          html: input({
            label: { text: __("reply.refusalReasonOther.label") },
            decorate: "reply.refusalReasonOther"
          })
        }
      }
    ],
    decorate: "reply.refusalReason"
  }) }}

  {{ textarea({
    label: {
      classes: "nhsuk-label--m",
      text: __("reply.notes.label")
    },
    decorate: "reply.notes"
  }) }}
{% endblock %}
