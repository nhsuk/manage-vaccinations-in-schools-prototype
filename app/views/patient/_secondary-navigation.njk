{% set tagColor = "red" if patient.registration.value == RegistrationOutcome.Absent else "blue" %}
{{ actionList({
  items: [{
    tag: {
      classes: "nhsuk-tag--" + tagColor,
      text: patient.registration.value
    }
  } if patient.session_id and session.status == SessionStatus.Active, {
    text: __("registration.edit.title"),
    href: patient.uri + "/registration/edit"
  } if patient.session_id and session.status == SessionStatus.Active and patient.registration.value != RegistrationOutcome.Complete, {
    text: __("patient.invite.title"),
    href: patient.uri + "/invite"
  } if not patient.session_id]
}) }}

{{ xGovukSecondaryNavigation({
  items: [{
    text: __("patient.show.title"),
    href: patient.uri,
    current: view == "show"
  }, {
    text: __("patient.events.title"),
    href: patient.uri + "/events",
    current: view == "events"
  }]
}) }}
