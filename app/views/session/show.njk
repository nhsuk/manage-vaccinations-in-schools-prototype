{% from "session/_navigation.njk" import sessionNavigation with context %}

{% extends "_layouts/default.njk" %}

{% set title = session.location.name + " (" + session.academicYear + ")" %}

{% block beforeContent %}
  {{ breadcrumb({
    items: [{
      text: __("home.show.title"),
      href: "/"
    }],
    text: __("session.list.title"),
    href: "/sessions"
  }) }}
{% endblock %}

{% block content %}
  {{ super() }}

  {{ sessionNavigation({
    session: session,
    view: "show"
  }) }}

  {% include "session/_session-programme-summary.njk" %}

  {% include "session/_session-dates-summary.njk" %}

  {% if not session.isUnplanned %}
    {% include "session/_session-activity-summary.njk" %}
  {% endif %}

  {% call card({
    heading: __("session.location.title", "clinic" if session.type == SessionType.Clinic else "school"),
    headingLevel: 3
  }) %}
    {{ summaryList({
      rows: summaryRows(session, {
        location: {},
        school_urn: {},
        consentForms: {}
      })
    }) }}

    {{ button({
      classes: "nhsuk-button--secondary",
      href: "/uploads/new?type=" + UploadType.School + "&urn=" + session.school.urn,
      text: __("session.upload-class-list.title")
    }) if session.type == SessionType.School }}
  {% endcall %}
{% endblock %}
