{% set sessionActivityRows = [] %}

{% if sessionActivityRow("getConsent") %}
  {% set sessionActivityRows = sessionActivityRows | push(sessionActivityRow("getConsent")) %}
{% endif %}

{% if sessionActivityRow("followUp") %}
  {% set sessionActivityRows = sessionActivityRows | push(sessionActivityRow("followUp")) %}
{% endif %}

{% if sessionActivityRow("resolveConsent") %}
  {% set sessionActivityRows = sessionActivityRows | push(sessionActivityRow("resolveConsent")) %}
{% endif %}

{% if sessionActivityRow("instruct") and session.psdProtocol %}
  {% set sessionActivityRows = sessionActivityRows | push(sessionActivityRow("instruct")) %}
{% endif %}

{% if sessionActivityRow("record") and session.isActive %}
  {% set sessionActivityRows = sessionActivityRows | push(sessionActivityRow("record")) %}
{% endif %}

{{ card({
  heading: __("session.activity.label"),
  headingLevel: 3,
  secondary: true,
  descriptionHtml: summaryList({
    rows: sessionActivityRows | removeLastSummaryBorder
  })
}) if sessionActivityRows.length > 0 }}
