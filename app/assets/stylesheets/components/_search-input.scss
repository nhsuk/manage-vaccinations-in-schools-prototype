@use "../vendor/nhsuk-frontend" as *;

$_button-shadow-size: $nhsuk-border-width-form-element;
$_icon-size: 28px;

.app-form-group--search-input {
  .nhsuk-input__wrapper {
    display: flex;
  }

  .nhsuk-input[type="search"]::-webkit-search-cancel-button {
    width: nhsuk-px-to-rem($_icon-size);
    height: nhsuk-px-to-rem($_icon-size);
    margin: 0;

    background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23212b32'><path d='M13.41 12l5.3-5.29a1 1 0 1 0-1.42-1.42L12 10.59l-5.29-5.3a1 1 0 0 0-1.42 1.42l5.3 5.29-5.3 5.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l5.29-5.3 5.29 5.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z'/></svg>");

    cursor: pointer;

    -webkit-appearance: none;
  }

  .nhsuk-button {
    display: flex;

    flex: 0 0 nhsuk-px-to-rem($_icon-size);

    // Adjust bottom margin to offset shadow size given flex alignment
    margin-bottom: $_button-shadow-size;

    // Adjust inline padding
    padding: 0 nhsuk-spacing(2) 0 6px;

    border-top-left-radius: 0;
    border-bottom-left-radius: 0;

    box-shadow: 0 $_button-shadow-size 0 $nhsuk-button-shadow-colour;

    // Align icon in center of button
    place-items: center;

    &:focus:not(:active),
    &:focus:not(:active):hover {
      box-shadow: 0 $_button-shadow-size 0 $nhsuk-focus-text-colour;
    }

    &:active,
    &:active:focus {
      top: $_button-shadow-size;
      box-shadow: none;
    }

    .nhsuk-icon {
      width: nhsuk-px-to-rem($_icon-size);
      height: nhsuk-px-to-rem($_icon-size);
    }
  }
}
